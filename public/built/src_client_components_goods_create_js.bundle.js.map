{"version":3,"file":"src_client_components_goods_create_js.bundle.js","mappings":"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","sources":["webpack://fartza.ru/./src/client/components/goods_create.js"],"sourcesContent":["import CurrencyInput from 'react-currency-input-field';\r\nimport React from 'react';\r\nimport { categoriesAPI } from '../store/services/categories_service';\r\nimport { connect } from 'react-redux';\r\nimport SelectSearch from 'react-select-search';\r\n\r\nvar fileTypes = [\r\n  'image/jpeg',\r\n  'image/pjpeg',\r\n  'image/png'\r\n];\r\n\r\nclass GoodsCreateForm extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.updateImageDisplay = this.updateImageDisplay.bind(this);\r\n\t\tthis.validFileType = this.validFileType.bind(this);\r\n\t\tthis.validFileSize = this.validFileSize.bind(this);\r\n\t\tthis.returnFileSize = this.returnFileSize.bind(this);\r\n\t\tthis.load = this.load.bind(this);\r\n\t\tthis.inputName = this.inputName.bind(this);\r\n\t\tthis.getLocation = this.getLocation.bind(this);\r\n\t\tthis.showPosition = this.showPosition.bind(this);\r\n\t\tthis.state = {first: true, errorName: false, errorImages: true}\r\n\t}\r\n\tgetLocation() {\r\n\t\tif (navigator.geolocation) {\r\n\t\t\tnavigator.geolocation.getCurrentPosition(this.showPosition);\r\n\t\t} else { \r\n\t\t\talert(\"Разрешите геолокацию чтобы видеть ближайшие товары...\");\r\n\t\t}\r\n\t}\t\r\n\tshowPosition(position) {\r\n\t\tdocument.getElementById(\"latitude\").value = position.coords.latitude;\r\n\t\tdocument.getElementById(\"longitude\").value = position.coords.longitude;\r\n\t}\r\n\tcomponentDidMount() {\r\n\t\tdocument.getElementById(\"latitude\").value = \"\";\r\n\t\tdocument.getElementById(\"longitude\").value = \"\";\r\n\t\tthis.props.fetchAllCategories();\r\n\t}\r\n\tvalidFileSize(file) {\r\n\t\tconsole.log(file);\r\n\t\tif(file.size <= 1024 * 1024) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t  \treturn false;\r\n\t}\r\n\tvalidFileType(file) {\r\n\t\tfor(var i = 0; i < fileTypes.length; i++) {\r\n\t\t  if(file.type === fileTypes[i]) {\r\n\t\t\treturn true;\r\n\t\t  }\r\n\t\t}\r\n  \r\n\t\treturn false;\r\n\t  }\r\n\treturnFileSize(number) {\r\n\t  if(number < 1024) {\r\n\t    return number + 'bytes';\r\n\t  } else if(number > 1024 && number < 1048576) {\r\n\t    return (number/1024).toFixed(1) + 'KB';\r\n\t  } else if(number > 1048576) {\r\n\t    return (number/1048576).toFixed(1) + 'MB';\r\n\t  }\r\n\t}\r\n\tload(img) {\r\n\t\t//console.log(img);\r\n\t\timg.nextSibling.textContent += ', ширина и высота: ' + img.width + 'x' + img.height;\r\n\t}\r\n\tupdateImageDisplay(event) {\r\n\t\tconsole.log(\"upd\");\r\n\r\n\t\tvar input = document.querySelector('#images');\r\n\t\tvar preview = document.querySelector('.preview');\r\n\r\n\t\twhile(preview.firstChild) {\r\n\t\t    preview.removeChild(preview.firstChild);\r\n\t\t}\r\n\r\n\t\tvar curFiles = input.files;\r\n\t\tif(curFiles.length === 0) {\r\n\t\t\tvar para = document.createElement('p');\r\n\t\t\tpara.textContent = '';\r\n\t\t\tpreview.appendChild(para);\r\n\t\t\tconsole.log(0);\r\n\t\t\tthis.setState({errorImages: true});\r\n\t\t} else if (curFiles.length > 3) {\r\n\t\t\tinput.value = '';\r\n\t\t\tvar para = document.createElement('small');\r\n\t\t\tpara.classList.add(\"form-text\");\r\n\t\t\tpara.classList.add(\"text-danger\");\r\n\t\t\tpara.textContent = 'Слишком много файлов!';\r\n\t\t\tpreview.appendChild(para);\r\n\t\t\tconsole.log(1);\r\n\t\t\tthis.setState({errorImages: true});\r\n\t\t} else {\r\n\t\t\tvar list = document.createElement('ol');\r\n\t\t\tpreview.appendChild(list);\r\n\t\t\tvar para = [null, null, null];\r\n\t\t\tvar image = [null, null, null];\r\n\t\t\tvar listItem = [null, null, null];\r\n\t\t\tconsole.log(2);\r\n\t\t\tlet err = false;\r\n\t\t\tfor(var i = 0; i < curFiles.length; i++) {\r\n\t\t\t\tlistItem[i] = document.createElement('li');\r\n\t\t\t\tpara[i] = document.createElement('p');\r\n\t\t\t\tpara[i].style.display = 'inline-block';\r\n\t\t\t\tpara[i].style.width = \"80%\";\r\n\t\t\t\tconsole.log(curFiles[i]);\r\n\t\t\t\tconsole.log(!this.validFileType(curFiles[i]));\r\n\t\t\t\tif (!this.validFileType(curFiles[i])) {\r\n\t\t\t\t\tpara[i].textContent = 'Имя файла: ' + curFiles[i].name + ' - Неверный формат файла, выберите файлы заново';\r\n\t\t\t\t\tlistItem[i].appendChild(para[i]);\r\n\t\t\t\t\tconsole.log(\"hey\");\r\n\t\t\t\t\terr = true;\r\n\t\t\t\t} else if (!this.validFileSize(curFiles[i])) {\r\n\t\t\t\t\tpara[i].textContent = 'Имя файла: ' + curFiles[i].name + ' - Фай слишком большой, выберите файлы заново';\r\n\t\t\t\t\tlistItem[i].appendChild(para[i]);\r\n\t\t\t\t\tconsole.log(\"hey\");\r\n\t\t\t\t\terr = true;\r\n\t\t\t\t} else {\r\n\t\t\t\t\t//console.log(curFiles[i]);\r\n\t\t\t\t\timage[i] = document.createElement('img');\r\n\t\t\t\t\timage[i].style.display = 'inline-block';\r\n\t\t\t\t\timage[i].style.width = \"20%\";\r\n\t\t\t\t\timage[i].src = window.URL.createObjectURL(curFiles[i]);\r\n\r\n\t\t\t\t\tlistItem[i].appendChild(image[i]);\r\n\t\t\t\t\tpara[i].textContent = 'Имя файла: ' + curFiles[i].name + ', размер файла: ' + this.returnFileSize(curFiles[i].size);\r\n\t\t\t\t\timage[i].onload = (event) => this.load(event.target);\r\n\t\t\t\t\tlistItem[i].appendChild(para[i]);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tlist.appendChild(listItem[i]);\r\n\t\t\t}\r\n\t\t\tif (err) { input.value = ''; this.setState({errorImages: true}); } else { this.setState({errorImages: false}); }\r\n\t\t}\r\n\t}\r\n\tinputName(event) {\r\n\t\tif (event.target.value.length > 127 || event.target.value.length < 3) {\r\n\t\t\tthis.setState({errorName: true});\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.setState({errorName: false});\r\n\t\t}\r\n\t\tthis.setState({first: false});\r\n\t}\r\n\trender() {\r\n\t\tconsole.log(this.props.fetchAllCategoriesState().data);\r\n\t\tlet className = \"form-text text-danger\";\r\n\t\tif (!this.state.errorName) {\r\n\t\t\tclassName += \" d-none\";\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<div className=\"col-md-3 col-lg-4 float-md-start float-lg-start\">&nbsp;</div>\r\n\t\t\t\t<div className=\"col-xs-12 col-sm-12 col-md-6 col-lg-4 float-md-start float-lg-start\">\r\n\t\t\t\t\t<h2 style={{textAlign: 'center'}}>Создать товар</h2>\r\n\t\t\t\t\t<form action=\"/api/goods/create\" method=\"post\" autoComplete=\"off\" enctype=\"multipart/form-data\">\r\n\t\t\t\t\t\t<div className=\"mb-3\">\r\n\t\t\t\t\t\t  <label for=\"name\" className=\"form-label\">Название</label>\r\n\t\t\t\t\t\t  <textarea className=\"form-control\" id=\"name\" name=\"name\" rows=\"2\" onInput={this.inputName}></textarea>\r\n\t\t\t\t\t\t  <small className={className}>Слишком короткое или слишком длинное название!</small>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"mb-3\">\r\n\t\t\t\t\t\t  <label for=\"description\" className=\"form-label\">Более подробное описание</label>\r\n\t\t\t\t\t\t  <textarea className=\"form-control\" id=\"description\" rows=\"3\" name=\"description\"></textarea>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"mb-3\">\r\n\t\t\t\t\t\t  <label for=\"images\" className=\"form-label\">Загрузить изображения...</label>\r\n\t\t\t\t\t\t  <input title=\"\" className=\"form-control\" type=\"file\" id=\"images\" name=\"images\" onChange={this.updateImageDisplay} accept=\".jpg, .jpeg, .png\" multiple/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"preview\">\r\n\t\t\t\t\t\t\t<p></p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"mb-3\">\r\n\t\t\t\t\t\t  <label for=\"price\" class=\"form-label\">Цена в рублях</label>\r\n\t\t\t\t\t\t  <CurrencyInput\r\n\t\t\t\t\t\t    id=\"price\"\r\n\t\t\t\t\t\t    name=\"price\"\r\n\t\t\t\t\t\t    decimalsLimit={2}\r\n\t\t\t\t\t\t\tmaxLength={12}\r\n\t\t\t\t\t\t  />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"mb-3\">\r\n\t\t\t\t\t\t\t<label for=\"cat\" className=\"form-label\">Категория</label>\r\n\t\t\t\t\t\t\t<select name=\"cat\" id=\"cat\" className=\"form-control\">\r\n\t\t\t\t\t\t\t\t{this.props.fetchAllCategoriesState().data?.categories[0][0].map(cat => <option value={cat.id}>{cat.type}</option>)}\r\n\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<input onChange={e => {if(e.target.value) { this.getLocation() } else { document.getElementById(\"latitude\").value = \"\"; document.getElementById(\"longitude\").value = \"\"; }}} type=\"checkbox\"/>\r\n\t\t\t\t\t\t<input type=\"hidden\" id=\"latitude\" name=\"latitude\"/>\r\n\t\t\t\t\t\t<input type=\"hidden\" id=\"longitude\" name=\"longitude\"/>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<button type=\"submit\" className=\"btn\" disabled={this.state.errorImages || this.state.first || this.state.errorName}>Отправить</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</form>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\n/*const mapDispatchToProps =  (dispatch) => {\r\n  return {\r\n    getGoodsAll: (word, since, sort) => dispatch(getGoodsFromAPI(word, since, sort))\r\n  }\r\n}*/\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n\t\tfetchAllCategoriesState: () => categoriesAPI.endpoints.fetchAllCategories.select()(state),\r\n    };\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    fetchAllCategories: categoriesAPI.endpoints.fetchAllCategories.initiate,//(args) => dispatch(goodsAPI.endpoints.fetchAllGoods.initiate(args)) //(args) => dispatch(getGoodsFromAPI(args))\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(GoodsCreateForm);\r\n\r\n/*ReactDOM.render(\r\n  <GoodsCreateForm />,\r\n  document.getElementById('goods-create')\r\n);\r\nonValueChange={(value, name) => console.log(value, name)}\r\nplaceholder=\"Цена товара...\"\r\ndefaultValue={1000}\r\n<SelectSearch options={this.props.fetchAllCategoriesState().data?.categories[0][0].map(cat => {return {name: cat.type\r\n\t, value: cat.id}})} search={true}\r\n\tfilterOptions={[(options, query) => {\r\n\t\t// Do no filtering, just return all options\r\n\t\t//return options.find(option => option.name.includes(filter));\r\n\t\t//console.log(query)\r\n\t\treturn options.filter(option => option.name.toLowerCase().includes(query.toLowerCase()));\r\n\t}]} name={\"cat\"}/>*/"],"names":["CurrencyInput","React","categoriesAPI","connect","SelectSearch","fileTypes","GoodsCreateForm","_React$Component","_inherits","_super","_createSuper","props","_this","_classCallCheck","call","updateImageDisplay","bind","_assertThisInitialized","validFileType","validFileSize","returnFileSize","load","inputName","getLocation","showPosition","state","first","errorName","errorImages","_createClass","key","value","navigator","geolocation","getCurrentPosition","alert","position","document","getElementById","coords","latitude","longitude","componentDidMount","fetchAllCategories","file","console","log","size","i","length","type","number","toFixed","img","nextSibling","textContent","width","height","event","_this2","input","querySelector","preview","firstChild","removeChild","curFiles","files","para","createElement","appendChild","setState","classList","add","list","image","listItem","err","style","display","name","src","window","URL","createObjectURL","onload","target","render","_this$props$fetchAllC","_this3","fetchAllCategoriesState","data","className","textAlign","action","method","autoComplete","enctype","id","rows","onInput","title","onChange","accept","multiple","decimalsLimit","maxLength","categories","map","cat","e","disabled","Component","mapStateToProps","endpoints","select","mapDispatchToProps","initiate"],"sourceRoot":""}