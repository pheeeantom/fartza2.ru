{"version":3,"file":"src_client_main_js.bundle.js","mappings":"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;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC5e0B;AAEY;AACM;AACL;AAAA,IAElBkB,IAAI,0BAAAxH,gBAAA;EAAAC,SAAA,CAAAuH,IAAA,EAAAxH,gBAAA;EAAA,IAAAE,MAAA,GAAAC,YAAA,CAAAqH,IAAA;EAErB,SAAAA,KAAYpH,KAAK,EAAE;IAAAE,eAAA,OAAAkH,IAAA;IAAA,OAAAtH,MAAA,CAAAK,IAAA,OACTH,KAAK;EACf;EAACkB,YAAA,CAAAkG,IAAA;IAAAjG,GAAA;IAAAC,KAAA,EAED,SAAAC,OAAA,EAAS;MACL;MACA,IAAI,IAAI,CAACrB,KAAK,CAAC6D,KAAK,IAAIN,MAAM,CAACC,QAAQ,CAACC,QAAQ,KAAK,GAAG,EAAE;QACtD,oBACIhE,0DAAA;UAAKmC,SAAS,EAAC;QAAK,gBAChBnC,0DAAA,CAACE,sDAAa,MAAE,CAAC,eACjBF,0DAAA,CAACyG,qDAAQ,MAAE,CACV,CAAC;MAEd,CAAC,MACI;QACD,oBACIzG,0DAAA,CAACwD,iDAAc,MAAE,CAAC;MAE1B;IACJ;EAAC;EAAA,OAAAmE,IAAA;AAAA,EArB6B3H,wDAAe","sources":["webpack://fartza.ru/./src/client/categories.js","webpack://fartza.ru/./src/client/goods.js","webpack://fartza.ru/./src/client/goods_min.js","webpack://fartza.ru/./src/client/main.js"],"sourcesContent":["import React from \"react\";\r\n\r\nvar categories = {\r\n\t\"Статьи\": [\r\n\t\t\"Новинки\",\"Тренды\",\"Коллаборации\"\r\n\t],\r\n\t\"Одежда\": [\r\n\t\t\"Б/У\",\"Российское\",\"ХендМейд\",\"Обувь\",\"Верх\",\"Низ\", \"Головные уборы\"\r\n\t]\r\n};\r\n\r\nexport default class CategoriesBar extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tvar active = [];\r\n\t    for (var i = 0; i < Object.keys(categories).length; i++) {\r\n\t      active.push(false);\r\n\t    }\r\n\t    this.state = {isActive: active};\r\n\t\tthis.output = this.output.bind(this);\r\n\t}\r\n\r\n\toutput = num => {\r\n\t    var active = [];\r\n\t    for (var i = 0; i < Object.keys(categories).length; i++) {\r\n\t      active.push(false);\r\n\t    }\r\n\t    active[num] = !this.state.isActive[num];\r\n\t    this.setState({ isActive : active});\r\n\t}\r\n\r\n\trender() {\r\n\t\tvar rows = [];\r\n\t    for (var i = 0; i < Object.keys(categories).length; i++) {\r\n\t      rows.push(<Category isActive={this.state.isActive[i]} name={Object.keys(categories)[i]} links={categories[Object.keys(categories)[i]]} func={this.output}/>);\r\n\t    }\r\n\t\treturn (\r\n\t\t\t<div className=\"col-xs-12 col-sm-12 col-md-4 col-lg-3 mt-3\">\r\n\t\t\t\t<div className=\"d-flex flex-column p-3 bg-light\">\r\n\t\t\t\t\t<aside id=\"categories\">\r\n\t\t\t\t\t\t<div className=\"dropdown\">\r\n\t\t\t\t\t\t\t{rows}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</aside>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nclass Category extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tvar active = [];\r\n\t    for (var i = 0; i < categories[this.props.name].length; i++) {\r\n\t      active.push(false);\r\n\t    }\r\n\t    this.state = {isActive: active};\r\n\t\tthis.handleClick = this.handleClick.bind(this);\r\n\t\tthis.output = this.output.bind(this);\r\n\t}\r\n\r\n\tgetNum() {\r\n\t    for (var i = 0; i < Object.keys(categories).length; i++) {\r\n\t      if (this.props.name == Object.keys(categories)[i]) {\r\n\t        return i;\r\n\t      }\r\n\t    }\r\n\t}\r\n\r\n\thandleClick() {\r\n\t    var num = this.getNum();\r\n\t    this.props.func(num);\r\n  \t}\r\n\r\n  \toutput = num => {\r\n\t    var active = [];\r\n\t    for (var i = 0; i < categories[this.props.name].length; i++) {\r\n\t      active.push(false);\r\n\t    }\r\n\t    active[num] = true;\r\n\t    this.setState({ isActive : active});\r\n\t}\r\n\r\n\trender() {\r\n\t\tvar display = 'none';\r\n\t\tif (this.props.isActive) {\r\n\t\t\tdisplay = 'block';\r\n\t\t}\r\n\t\tvar rows = [];\r\n\t    for (var i = 0; i < this.props.links.length; i++) {\r\n\t      rows.push(<Link isActive={this.state.isActive[i]} name={this.props.links[i]} num={i} func={this.output}/>);\r\n\t    }\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<button onClick={this.handleClick} className=\"btn dropdown-toggle\" type=\"button\" id=\"dropdownMenuButton\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded={this.props.isActive}>\r\n\t\t\t\t  {this.props.name}\r\n\t\t\t\t</button>\r\n\t\t\t\t<div style={{display: display}} className=\"px-2\">\r\n\t\t\t\t  {rows}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nclass Link extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.handleClick = this.handleClick.bind(this);\r\n\t}\r\n\r\n\thandleClick() {\r\n\t\tthis.props.func(this.props.num);\r\n\t}\r\n\r\n\trender() {\r\n\t\tvar classLink = \"dropdown-item\";\r\n\t\tif (this.props.isActive) {\r\n\t\t\tclassLink += \" active\";\r\n\t\t}\r\n\t\treturn ( <a className={classLink} href=\"#\" onClick={this.handleClick}>{this.props.name}</a> );\r\n\t}\r\n}\r\n\r\n/*ReactDOM.render(\r\n  <CategoriesBar />,\r\n  document.getElementById('categories')\r\n);*/","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { goodsAPI } from \"./store/services/goods_service\";\r\n\r\nclass ProductWrapper extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\t//this.state = { goods: 0 };\r\n\t\tthis.getGoods = this.getGoods.bind(this);\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n        console.log(1000);\r\n        this.getGoods();\r\n    }\r\n\r\n\tgetGoods() {\r\n\t\t/*const data = new FormData();\r\n\t\tdata.append('command', 'getGoods');\r\n\t\tdata.append('since', 0);*/\r\n\t\t//let searchParams = new URLSearchParams(location.search);\r\n\t\t/*fetch('/api', {\r\n\t\t\tmethod: 'POST',\r\n\t\t    headers: {\r\n\t\t      'Accept': 'application/json',\r\n\t\t      'Content-Type': 'application/json'\r\n\t\t    },\r\n\t\t    body: JSON.stringify({ command: 'getGoodsById', id: window.location.pathname.split('/').pop() || window.location.pathname.split('/').slice(0, -1).pop() })\r\n\t\t}).then(response => {\r\n\t\t\tresponse.json().then(body => {\r\n\t\t\t\tthis.setState({ goods: body.goods[0] });\r\n\t\t\t\t//console.log(this.state.goods);\r\n\t\t\t});\r\n\t\t});*/\r\n\t\t//id: window.location.href.match(\"goods/(.+)#?\")[1]\r\n\t\t//console.log(10);\r\n\t\tthis.props.fetchGoodsById(window.location.pathname.split('/').pop() || window.location.pathname.split('/').slice(0, -1).pop());\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst id = window.location.pathname.split('/').pop() || window.location.pathname.split('/').slice(0, -1).pop();\r\n\t\tlet goods = this.props.fetchGoodsByIdState(id);\r\n\t\tlet rows = null;\r\n\t\t//console.log(goods);\r\n\t\tif (!goods.isLoading &&\r\n\t\t\t!goods.isUninitialized) {\r\n\t\t\tif (!goods.isError) {\r\n\t\t\t\tgoods = goods.data.goods[0][0];\r\n\t\t\t\tconsole.log(goods);\r\n\t\t\t\t//console.log(goods);\r\n\t\t\t\trows = (<Product id={goods.id} name={goods.name} img={goods.photos} price={goods.price}\r\n\t\t\t\t\tcreatedAt={goods.created_at} desc={goods.description} views={goods.views} />);\r\n\t\t\t} else {\r\n\t\t\t\trows = goods.error.data.error;\r\n\t\t\t}\r\n\t\t}\r\n\t\telse {\r\n\t\t\trows = 'Подождите, идет загрузка...';\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t<div class=\"mb-3 mt-3\">\r\n\t\t\t\t<main id=\"goods-min\">\r\n\t\t\t\t\t{rows}\r\n\t\t\t\t</main>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nclass Product extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t}\r\n\r\n\trender() {\r\n\t\t//console.log(this.props.id);\r\n\t\tlet date = new Date(this.props.createdAt);\r\n\t\tlet dateStr = date.toLocaleString('ru', {\r\n\t        year: 'numeric',\r\n\t        month: 'long',\r\n\t        day: 'numeric',\r\n\t        hour: 'numeric',\r\n\t        minute: 'numeric'\r\n\t      });\r\n\t\tlet butImg = [];\r\n\t\tfor (let i = 0; i < this.props.img.length; i++) {\r\n\t\t\tif (i == 0)\r\n\t\t\t\tbutImg.push(<button type=\"button\" data-bs-target={\"#carouselGoodsIndicators\" + this.props.id} data-bs-slide-to={i} className=\"active\" aria-current=\"true\" aria-label={\"Slide \" + i}></button>);\r\n\t\t\telse\r\n\t\t\t\tbutImg.push(<button type=\"button\" data-bs-target={\"#carouselGoodsIndicators\" + this.props.id} data-bs-slide-to={i} aria-label={\"Slide \" + i}></button>);\r\n\t\t}\r\n\t\tlet img = [];\r\n\t\tfor (let i = 0; i < this.props.img.length; i++) {\r\n\t\t\tif (i == 0)\r\n\t\t\t\timg.push(<div className=\"carousel-item active\"><img className=\"d-block w-100\" src={\"/goods_photos/\" + this.props.img[i]} alt={\"Slide \" + i}/></div>);\r\n\t\t\telse\r\n\t\t\t\timg.push(<div className=\"carousel-item\"><img className=\"d-block w-100\" src={\"/goods_photos/\" + this.props.img[i]} alt={\"Slide \" + i}/></div>);\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<div className=\"col-md-1 col-lg-2\" style={{float: 'left'}}>&nbsp;</div>\r\n\t\t\t\t<div className=\"col-xs-12 col-sm-12 col-md-10 col-lg-8\" style={{float: 'left'}}>\r\n\t\t\t\t\t<div className=\"my-card\">\r\n\t\t\t\t\t\t<div id={\"carouselGoodsIndicators\" + this.props.id} data-bs-interval=\"false\" className=\"carousel slide col-xs-12 col-sm-12 col-md-6 col-lg-6\" data-bs-ride=\"carousel\" style={{float: 'left'}}>\r\n\t\t\t\t\t\t  <div className=\"carousel-indicators\">\r\n\t\t\t\t\t\t    {butImg}\r\n\t\t\t\t\t\t  </div>\r\n\t\t\t\t\t\t  <div className=\"carousel-inner\">\r\n\t\t\t\t\t\t    {img}\r\n\t\t\t\t\t\t  </div>\r\n\t\t\t\t\t\t  <button className=\"carousel-control-prev\" type=\"button\" data-bs-target={\"#carouselGoodsIndicators\" + this.props.id} data-bs-slide=\"prev\">\r\n\t\t\t\t\t\t    <span className=\"carousel-control-prev-icon\" aria-hidden=\"true\"></span>\r\n\t\t\t\t\t\t    <span className=\"visually-hidden\">Previous</span>\r\n\t\t\t\t\t\t  </button>\r\n\t\t\t\t\t\t  <button className=\"carousel-control-next\" type=\"button\" data-bs-target={\"#carouselGoodsIndicators\" + this.props.id} data-bs-slide=\"next\">\r\n\t\t\t\t\t\t    <span className=\"carousel-control-next-icon\" aria-hidden=\"true\"></span>\r\n\t\t\t\t\t\t    <span className=\"visually-hidden\">Next</span>\r\n\t\t\t\t\t\t  </button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"card-body col-xs-12 col-sm-12 col-md-6 col-lg-6\" style={{float: 'left'}}>\r\n\t\t\t\t\t      <h5 className=\"card-title\">{this.props.name}</h5>\r\n\t\t\t\t\t      <p className=\"card-text\">{this.props.desc}</p>\r\n\t\t\t\t\t      <p className=\"card-text\">{this.props.price + \"₽\"}</p>\r\n\t\t\t\t\t      <p className=\"card-text\"><small className=\"text-muted\">{dateStr}</small></p>\r\n\t\t\t\t\t      <p className=\"card-text\"><small className=\"text-muted\">Просмотры: {this.props.views}</small></p>\r\n\t\t\t\t\t    </div>\r\n\t\t\t\t    </div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n\t\tfetchGoodsByIdState: (id) => goodsAPI.endpoints.fetchGoodsById.select(id)(state)\r\n    };\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    fetchGoodsById: goodsAPI.endpoints.fetchGoodsById.initiate//(args) => dispatch(goodsAPI.endpoints.fetchAllGoods.initiate(args)) //(args) => dispatch(getGoodsFromAPI(args))\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ProductWrapper);\r\n\r\n/*class SearchGoods extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t}\r\n\r\n\tgoToIndex(event) {\r\n\t\twindow.open('/?search=true&query=' + document.getElementById(\"search\").value);\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div style={{textAlign: 'center', marginBottom: '25px'}}>\r\n\t\t\t\t<input type=\"text\" class=\"form-control\" id=\"search\" style={{display: 'inline', width: '60vw', marginRight: '10px'}}/>\r\n\t\t\t\t<button type=\"button\" class=\"btn btn-primary\" onClick={this.goToIndex} style={{display: 'inline'}}>Найти!</button>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}*/\r\n\r\n/*ReactDOM.render(\r\n  <ProductWrapper />,\r\n  document.getElementById('goods-min')\r\n);\r\n\r\nReactDOM.render(\r\n  <SearchGoods />,\r\n  document.getElementById('search-wrapper')\r\n);*/","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { bindActionCreators } from '@reduxjs/toolkit';\r\nimport { fetchAllGoodsState, goodsAPI } from './store/services/goods_service';\r\nimport { store } from './app';\r\nimport { setLastArgs } from './store/reducers/goods_slice';\r\n\r\nclass GoodsMin extends React.Component {\r\n//\tunsubscribe = null;\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\t//this.state = { lastArgs: null };\r\n\t\t//this.state = { goods: useSelector((state) => state.goods) };\r\n\t\t//this.getNew = this.getNew.bind(this);\r\n\t\t//this.getPopular = this.getPopular.bind(this);\r\n  \t\t//this.dispatch = useDispatch();\r\n\t\t//const subscriptionChangeState = this.props.emitter.subscribe(\"CHANGE\", (state) => this.setState({ goods: state }));\r\n\t}\r\n\r\n\t//getNew() {\r\n\t\t/*const data = new FormData();\r\n\t\tdata.append('command', 'getGoods');\r\n\t\tdata.append('since', 0);*/\r\n\t\t/*fetch('/api', {\r\n\t\t\tmethod: 'POST',\r\n\t\t    headers: {\r\n\t\t      'Accept': 'application/json',\r\n\t\t      'Content-Type': 'application/json'\r\n\t\t    },\r\n\t\t    body: JSON.stringify({command: 'getNew', since: 0})\r\n\t\t}).then(response => {\r\n\t\t\tresponse.json().then(body => {\r\n\t\t\t\tthis.setState({ goods: body.goods[0] });\r\n\t\t\t});\r\n\t\t});*/\r\n\t\t/*const searchParams = new URLSearchParams(location.search);\r\n\t\tthis.props.sendAPIRequest({ command: 'searchGoods', word: (searchParams.get('query') && searchParams.get('query').length > 1) ? searchParams.get('query') : \"\", since: 0, sort: 'new' }, '/api', 'POST').then(resolve => {\r\n\t\t\tif (resolve.body.goods[0].length == 0) {\r\n\t\t\t\tthis.props.updateGoods('Ничего не найдено!');\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthis.props.updateGoods(resolve.body.goods[0]);\r\n\t\t}).catch(reject => {\r\n\t\t\tthis.props.updateGoods(reject.error);\r\n\t\t});*/\r\n\t\t\r\n\t\t//const searchParams = new URLSearchParams(location.search);\r\n\t\t//this.props.getGoodsFromAPI((searchParams.get('query') && searchParams.get('query').length > 1) ? searchParams.get('query') : \"\", 0, 'new');\r\n\t\t\r\n\t\t/*const searchParams = new URLSearchParams(location.search);\r\n\t\tthis.props.getGoodsAll({ word: ((searchParams.get('query') && searchParams.get('query').length > 1) ?\r\n\t\t\tsearchParams.get('query') : \"\"), since: 0, sort: 'new'});*/\r\n\t\t//console.log(10);\r\n\t//}\r\n\r\n\t//getPopular() {\r\n\t\t/*const searchParams = new URLSearchParams(location.search);\r\n\t\tthis.props.sendAPIRequest({ command: 'searchGoods', word: (searchParams.get('query') && searchParams.get('query').length > 1) ? searchParams.get('query') : \"\", since: 0, sort: 'popular' }, '/api', 'POST').then(resolve => {\r\n\t\t\tif (resolve.body.goods[0].length == 0) {\r\n\t\t\t\tthis.props.updateGoods('Ничего не найдено!');\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthis.props.updateGoods(resolve.body.goods[0]);\r\n\t\t}).catch(reject => {\r\n\t\t\tthis.props.updateGoods(reject.error);\r\n\t\t});*/\r\n\t\t\r\n\t\t//const searchParams = new URLSearchParams(location.search);\r\n\t\t//this.props.getGoodsFromAPI((searchParams.get('query') && searchParams.get('query').length > 1) ? searchParams.get('query') : \"\", 0, 'popular');\r\n\t\t/*const searchParams = new URLSearchParams(location.search);\r\n\t\tthis.props.getGoodsAll({ word: ((searchParams.get('query') && searchParams.get('query').length > 1) ?\r\n\t\t\tsearchParams.get('query') : \"\"), since: 0, sort: 'popular'})\r\n\t}*/\r\n\r\n\tcomponentDidMount() {\r\n/*\r\n\t\tconst { fetchAllGoods } = this.props;\r\n\t\t// Start a subscription for the component to the cached data\r\n\t\tconst { unsubscribe } = fetchAllGoods();\r\n\t\r\n\t\t// Store the unsubscribe promise for later use\r\n\t\tthis.unsubscribe = unsubscribe;\r\n*/\r\n\r\n\r\n\t\tconst searchParams = new URLSearchParams(location.search);\r\n\t\tlet lastArgs = { word: ((searchParams.get('query') && searchParams.get('query').length > 1) ?\r\n\t\t\tsearchParams.get('query') : \"\"), since: 0};\r\n\t\tif (searchParams.get('sort') == 'new' || !searchParams.get('sort')) {\r\n\t\t\tthis.props.fetchAllGoods({ ...lastArgs, sort: 'new' });\r\n\t\t\tthis.props.setLastArgs({ ...lastArgs, sort: 'new' });\r\n\t\t\t//this.setState({ lastArgs: { ...lastArgs, sort: 'new' } });\r\n\t\t}\r\n\t\telse if (searchParams.get('sort') == 'popular') {\r\n\t\t\tthis.props.fetchAllGoods({ ...lastArgs, sort: 'popular' });\r\n\t\t\tthis.props.setLastArgs({ ...lastArgs, sort: 'popular' });\r\n\t\t\t//this.setState({ lastArgs: { ...lastArgs, sort: 'popular' } });\r\n\t\t}\r\n\t}\r\n\r\n\t/*componentDidUpdate(prevProps) {\r\n\t\tif (this.props.goods !== prevProps.goods)\r\n\t\t\tthis.setState({goods: this.props.goods});\r\n\t}*/\r\n\r\n\t/*componentWillReceiveProps(nextProps) {\r\n\t\tconsole.log(nextProps.goods);\r\n\t\tif (!nextProps.goods) {\r\n\t\t\tconsole.log(10000000000000);\r\n\t\t\tif (!window.location.href.match(\"search=true\")) {\r\n\t\t\t\tif (window.location.href.match(\"sort=new\") || !window.location.href.match(\"sort\")) {\r\n\t\t\t\t\tthis.getNew();\r\n\t\t\t\t}\r\n\t\t\t\telse if (window.location.href.match(\"sort=popular\")) {\r\n\t\t\t\t\tthis.getPopular();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.setState({goods: nextProps.goods});\r\n\t\t}\r\n\t}*/\r\n\r\n\t/*componentWillReceiveProps(newProps) {\r\n\t\tconsole.log(newProps.goods);\r\n\t\tthis.setState({ goods: newProps.goods });\r\n\t}*/\r\n\r\n\trender() {\r\n\t\t/*let rows = [];\r\n\t\tlet rowsGroups = [];\r\n\t\tlet j = 0;\r\n\t\tfor (let i = 0; i < this.state.goods.length; i++) {\r\n\t\t\trows.push(<Card name={this.state.goods[i].name} img={this.state.goods[i].photos} price={this.state.goods[i].price} createdAt={this.state.goods[i].created_at} />);\r\n\t\t\tj++;\r\n\t\t\tif (j == 3 || i == this.state.goods.length - 1) {\r\n\t\t\t\tj = 0;\r\n\t\t\t\trowsGroups.push(<div className=\"card-group\">{rows}</div>);\r\n\t\t\t\trows = [];\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t  {rowsGroups}\r\n\t\t\t</div>\r\n\t\t);*/\r\n\t\t//console.log(this.state.goods);\r\n\t\tlet rows = [];\r\n\t\t//let fetchAllGoodsState = goodsAPI.endpoints.fetchAllGoods;\r\n\t\t//console.log(fetchAllGoodsState.select(this.state.lastArgs)(store.getState()));\r\n\t\t//console.log(fetchAllGoodsState);\r\n\t\t//console.log(this.state.lastArgs);\r\n\t\tconsole.log(this.props.fetchAllGoodsState(this.props.lastArgs));\r\n\t\t//console.log(fetchAllGoodsState(store.getState()));\r\n\t\tif (!this.props.fetchAllGoodsState(this.props.lastArgs).isLoading &&\r\n\t\t\t!this.props.fetchAllGoodsState(this.props.lastArgs).isUninitialized) {\r\n\t\t\tif (!this.props.fetchAllGoodsState(this.props.lastArgs).isError) {\r\n\t\t\t\tlet goods = this.props.fetchAllGoodsState(this.props.lastArgs).data.goods[0];\r\n\t\t\t\t//console.log(goods);\r\n\t\t\t\tfor (let i = 0; i < goods.length; i++)\r\n\t\t\t\t\trows.push(<Card id={goods[i].id} name={goods[i].name} img={goods[i].photos} price={goods[i].price}\r\n\t\t\t\t\t\tcreatedAt={goods[i].created_at} />);\r\n\t\t\t} else {\r\n\t\t\t\trows = this.props.fetchAllGoodsState(this.props.lastArgs).error.data.error;\r\n\t\t\t}\r\n\t\t}\r\n\t\telse {\r\n\t\t\trows = 'Подождите, идет загрузка...';\r\n\t\t}\r\n\t\t//console.log(this.props.lastArgs);\r\n\t\treturn (\r\n\t\t\t<div className=\"col-xs-12 col-sm-12 col-md-8 col-lg-9 mb-3 mt-3\">\r\n\t\t\t\t<main id=\"goods-min\">\r\n\t\t\t  \t\t{rows}\r\n\t\t\t\t</main>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nclass Card extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t}\r\n\r\n\trender() {\r\n\t\tlet date = new Date(this.props.createdAt);\r\n\t\tlet dateStr = date.toLocaleString('ru', {\r\n\t        year: 'numeric',\r\n\t        month: 'long',\r\n\t        day: 'numeric',\r\n\t        hour: 'numeric',\r\n\t        minute: 'numeric'\r\n\t      });\r\n\t\tlet butImg = [];\r\n\t\t//console.log(this.props.img);\r\n\t\tfor (let i = 0; i < this.props.img.length; i++) {\r\n\t\t\tif (i == 0)\r\n\t\t\t\tbutImg.push(<button type=\"button\" data-bs-target={\"#carouselGoodsIndicators\" + this.props.id} data-bs-slide-to={i} className=\"active\" aria-current=\"true\" aria-label={\"Slide \" + i}></button>);\r\n\t\t\telse\r\n\t\t\t\tbutImg.push(<button type=\"button\" data-bs-target={\"#carouselGoodsIndicators\" + this.props.id} data-bs-slide-to={i} aria-label={\"Slide \" + i}></button>);\r\n\t\t}\r\n\t\tlet img = [];\r\n\t\tfor (let i = 0; i < this.props.img.length; i++) {\r\n\t\t\tif (i == 0)\r\n\t\t\t\timg.push(<div className=\"carousel-item active\"><img className=\"d-block w-100\" src={\"goods_photos/\" + this.props.img[i]} alt={\"Slide \" + i}/></div>);\r\n\t\t\telse\r\n\t\t\t\timg.push(<div className=\"carousel-item\"><img className=\"d-block w-100\" src={\"goods_photos/\" + this.props.img[i]} alt={\"Slide \" + i}/></div>);\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t<div className=\"col-xs-12 col-sm-12 col-md-4 col-lg-3\"  style={{float: 'left', height: '450px'}}>\r\n\t\t\t\t<div className=\"card m-1\">\r\n\t\t\t\t\t<div id={\"carouselGoodsIndicators\" + this.props.id} data-bs-interval=\"false\" className=\"carousel slide\" data-bs-ride=\"carousel\">\r\n\t\t\t\t\t<div className=\"carousel-indicators\">\r\n\t\t\t\t\t\t{butImg}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"carousel-inner\">\r\n\t\t\t\t\t\t{img}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<button className=\"carousel-control-prev\" type=\"button\" data-bs-target={\"#carouselGoodsIndicators\" + this.props.id} data-bs-slide=\"prev\">\r\n\t\t\t\t\t\t<span className=\"carousel-control-prev-icon\" aria-hidden=\"true\"></span>\r\n\t\t\t\t\t\t<span className=\"visually-hidden\">Previous</span>\r\n\t\t\t\t\t</button>\r\n\t\t\t\t\t<button className=\"carousel-control-next\" type=\"button\" data-bs-target={\"#carouselGoodsIndicators\" + this.props.id} data-bs-slide=\"next\">\r\n\t\t\t\t\t\t<span className=\"carousel-control-next-icon\" aria-hidden=\"true\"></span>\r\n\t\t\t\t\t\t<span className=\"visually-hidden\">Next</span>\r\n\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t<a href={\"/goods/\" + this.props.id} target=\"_blank\" style={{color: \"black\"}}><h5 className=\"card-title\">{this.props.name.length > 45 ? this.props.name.substring(0, 45) + \"...\" : this.props.name}</h5></a>\r\n\t\t\t\t\t<p className=\"card-text\">{this.props.price + \"₽\"}</p>\r\n\t\t\t\t\t<p className=\"card-text\"><small className=\"text-muted\">{dateStr}</small></p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n\t\tfetchAllGoodsState: (args) => goodsAPI.endpoints.fetchAllGoods.select(args)(state),\r\n\t\tlastArgs: state.goodsReducer.lastArgs\r\n    };\r\n}\r\n\r\n/*goods: state.goodsReducer.goods,\r\nisLoading: state.goodsReducer.isLoading,\r\nerror: state.goodsReducer.error*/\r\n\r\n/*const mapDispatchToProps =  (dispatch) => {\r\n  return {\r\n    getGoodsAll: (word, since, sort) => dispatch(getGoodsFromAPI(word, since, sort))\r\n  }\r\n}*/\r\n\r\nconst mapDispatchToProps = {\r\n    fetchAllGoods: goodsAPI.endpoints.fetchAllGoods.initiate,//(args) => dispatch(goodsAPI.endpoints.fetchAllGoods.initiate(args)) //(args) => dispatch(getGoodsFromAPI(args))\r\n\tsetLastArgs: setLastArgs\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(GoodsMin);\r\n\r\n/*ReactDOM.render(\r\n  <GoodsMin />,\r\n  document.getElementById('goods-min')\r\n);\r\n\r\nclass Search extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.getGoods = this.getGoods.bind(this);\r\n\t\tthis.getGoodsURL = this.getGoodsURL.bind(this);\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n        if (window.location.href.match(\"search=true\")) {\r\n        \tlet params = new URLSearchParams(new URL(window.location.href).search);\r\n\t\t\tlet query;\r\n\t\t\tlet sort;\r\n\t\t\tfor(let pair of params.entries()) {\r\n\t\t\t  if (pair[0] == 'query') {\r\n\t\t\t  \tquery = pair[1];\r\n\t\t\t  }\r\n\t\t\t  else if (pair[0] == 'sort') {\r\n\t\t\t  \tsort = pair[1];\r\n\t\t\t  }\r\n\t\t\t}\r\n        \tdocument.getElementById(\"search\").value = query;\r\n\t\t\tthis.getGoodsURL(query, 0, sort);\r\n\t\t}\r\n    }\r\n\r\n\tgetGoodsURL(query, since, sort) {\r\n\t\tfetch('/api', {\r\n\t\t\tmethod: 'POST',\r\n\t\t    headers: {\r\n\t\t      'Accept': 'application/json',\r\n\t\t      'Content-Type': 'application/json'\r\n\t\t    },\r\n\t\t    body: JSON.stringify({ command: 'searchGoods', word: query, since: since, sort: sort })\r\n\t\t}).then(response => {\r\n\t\t\tresponse.json().then(body => {\r\n\t\t\t\temitter.emit(\"CHANGE\", body.goods[0]);\r\n\t\t\t});\r\n\t\t});\r\n\t}*/\r\n\r\n\t/*getGoods(event) {\r\n\t\tfetch('/api', {\r\n\t\t\tmethod: 'POST',\r\n\t\t    headers: {\r\n\t\t      'Accept': 'application/json',\r\n\t\t      'Content-Type': 'application/json'\r\n\t\t    },\r\n\t\t    body: JSON.stringify({ command: 'searchGoods', word: document.getElementById(\"search\").value, since: 0 })\r\n\t\t}).then(response => {\r\n\t\t\tresponse.json().then(body => {\r\n\t\t\t\temitter.emit(\"CHANGE\", body.goods[0]);\r\n\t\t\t});\r\n\t\t});\r\n\t}*/\r\n\r\n\t/*getGoods(event) {\r\n\t\tconst url = new URL(window.location);\r\n\t\turl.searchParams.set('search', 'true');\r\n\t\turl.searchParams.set('query', document.getElementById(\"search\").value);\r\n\t\twindow.history.pushState({}, '', url);\r\n\t\twindow.location.reload();\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div style={{textAlign: 'center', marginBottom: '25px'}}>\r\n\t\t\t\t<input type=\"text\" class=\"form-control\" id=\"search\" style={{display: 'inline', width: '60vw', marginRight: '10px'}}/>\r\n\t\t\t\t<button type=\"button\" class=\"btn btn-primary\" onClick={this.getGoods} style={{display: 'inline'}}>Найти!</button>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nReactDOM.render(\r\n  <Search />,\r\n  document.getElementById('search-wrapper')\r\n);\r\n\r\nvar links = [\r\n  \"Новые\",\r\n  \"Подписки\",\r\n  \"Популярные\"\r\n];\r\n\r\nclass NavBar extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.output = this.output.bind(this);\r\n    let params = new URLSearchParams(new URL(window.location.href).search);\r\n\tlet sort;\r\n\tfor(let pair of params.entries()) {\r\n\t  if (pair[0] == 'sort') {\r\n\t  \tsort = pair[1];\r\n\t  }\r\n\t}\r\n\tif (!sort || sort == 'new') {\r\n\t\tvar active = [true];\r\n\t    for (var i = 1; i < links.length; i++) {\r\n\t      active.push(false);\r\n\t    }\r\n\t}\r\n\telse if (sort == 'popular') {\r\n\t\tvar active = [];\r\n\t    for (var i = 0; i < links.length; i++) {\r\n\t      active.push(false);\r\n\t    }\r\n\t    active[2] = true;\r\n\t}\r\n\tthis.state = {isActive: active};\r\n  }\r\n\r\n  output = num => {\r\n    var active = [];\r\n    for (var i = 0; i < links.length; i++) {\r\n      active.push(false);\r\n    }\r\n    active[num] = true;\r\n    this.setState({ isActive : active});\r\n  }\r\n\r\n  render() {\r\n    var rows = [];\r\n    for (var i = 0; i < links.length; i++) {\r\n      rows.push(<Nav isActive={this.state.isActive[i]} name={links[i]} func={this.output}/>);\r\n    }\r\n    return (\r\n      <span>\r\n        {rows}\r\n        <LogReg/>\r\n      </span>\r\n    );\r\n  }\r\n}\r\n\r\nclass Nav extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    // Эта привязка обязательна для работы `this` в колбэке.\r\n    this.handleClick = this.handleClick.bind(this);\r\n  }\r\n\r\n  handleClick() {\r\n    var num;\r\n    for (var i = 0; i < links.length; i++) {\r\n      if (this.props.name == links[i]) {\r\n        num = i;\r\n      }\r\n    }\r\n    this.props.func(num);\r\n    if (this.props.name == \"Популярные\") {\r\n      const url = new URL(window.location);\r\n\t  url.searchParams.set('sort', 'popular');\r\n\t  window.history.pushState({}, '', url);\r\n\t  window.location.reload();\r\n    }\r\n    else if (this.props.name == \"Новые\") {\r\n      const url = new URL(window.location);\r\n\t  url.searchParams.set('sort', 'new');\r\n\t  window.history.pushState({}, '', url);\r\n\t  window.location.reload();\r\n    }\r\n  }\r\n\r\n  render() {\r\n    var ariaCurrent = this.props.isActive ? \"page\" : null;\r\n    var className = 'nav-link';\r\n    if (this.props.isActive) {\r\n      className += ' active';\r\n    }\r\n    return (\r\n      <li className=\"nav-item d-block d-sm-block d-md-inline-block\"><a href=\"#\" className={className} aria-current={ariaCurrent} onClick={this.handleClick}>{this.props.name}</a></li>\r\n    );\r\n  }\r\n}\r\n\r\nclass LogReg extends React.Component {\r\n  constructor(props) {\r\n  \tsuper(props);\r\n  \tthis.state = {logout: false, confirm: null, nick: null};\r\n  }\r\n  componentDidMount() {\r\n  \tfetch('/api', {\r\n\t\t\tmethod: 'POST',\r\n\t\t    headers: {\r\n\t\t      'Accept': 'application/json',\r\n\t\t      'Content-Type': 'application/json'\r\n\t\t    },\r\n\t\t    body: JSON.stringify({ command: 'isLoggedIn' })\r\n\t\t}).then(response => {\r\n\t\t\tresponse.json().then(body => {\r\n\t\t\t\tthis.setState({logout: body.logout, confirm: body.confirm, nick: body.nick});\r\n\t\t\t});\r\n\t\t});\r\n  }\r\n  render() {\r\n  \tconsole.log(this.state);\r\n  \tif (!this.state.logout) {\r\n  \t  return (\r\n\t    <li className=\"nav-item d-block d-sm-block d-md-inline-block px-3\"><a href=\"/logreg\" className=\"nav-link\" id=\"logreg\">Вход/Регистрация</a></li>\r\n\t  );\r\n  \t}\r\n    else {\r\n      return (\r\n      \t<div className=\"dropdown d-block d-sm-block d-md-inline-block px-3\">\r\n          <button className=\"btn btn-primary dropdown-toggle\" type=\"button\" id=\"dropdownMenuButton\" data-bs-toggle=\"dropdown\" aria-expanded=\"false\">\r\n            {this.state.nick} {this.state.confirm ? \"(осуществлен вход)\" : \"(требуется подтверждение почты)\"}\r\n          </button>\r\n          <ul className=\"dropdown-menu\" aria-labelledby=\"dropdownMenuButton\">\r\n            {this.state.confirm ? <li><a className=\"dropdown-item\" href=\"/goods/create\">Продать</a></li> : ''}\r\n            {this.state.confirm ? <li><a className=\"dropdown-item\" href=\"#\">Создано</a></li> : ''}\r\n            <li><a className=\"dropdown-item\" href=\"#\">Настройки</a></li>\r\n            <li><a className=\"dropdown-item\" href=\"/logout\">Выйти</a></li>\r\n          </ul>\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n}\r\n\r\nReactDOM.render(\r\n  <NavBar />,\r\n  document.getElementById('nav')\r\n);*/","import React from \"react\";\r\n\r\nimport GoodsMin from './goods_min.js';\r\nimport CategoriesBar from './categories.js';\r\nimport ProductWrapper from'./goods.js';\r\n\r\nexport default class Main extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n\r\n    render() {\r\n        //console.log(this.props.goods);\r\n        if (this.props.goods || window.location.pathname === \"/\") {\r\n            return (\r\n                <div className=\"row\">\r\n                    <CategoriesBar />\r\n                    <GoodsMin />\r\n                </div>\r\n            );\r\n        }\r\n        else {\r\n            return (\r\n                <ProductWrapper />\r\n            );\r\n        }\r\n    }\r\n}"],"names":["React","categories","CategoriesBar","_React$Component","_inherits","_super","_createSuper","props","_this","_classCallCheck","call","_defineProperty","_assertThisInitialized","num","active","i","Object","keys","length","push","state","isActive","setState","output","bind","_createClass","key","value","render","rows","createElement","Category","name","links","func","className","id","Component","default","_React$Component2","_super2","_this2","handleClick","getNum","display","Link","onClick","type","style","_React$Component3","_super3","_this3","classLink","href","connect","goodsAPI","ProductWrapper","getGoods","componentDidMount","console","log","fetchGoodsById","window","location","pathname","split","pop","slice","goods","fetchGoodsByIdState","isLoading","isUninitialized","isError","data","Product","img","photos","price","createdAt","created_at","desc","description","views","error","date","Date","dateStr","toLocaleString","year","month","day","hour","minute","butImg","src","alt","mapStateToProps","endpoints","select","mapDispatchToProps","initiate","bindActionCreators","fetchAllGoodsState","store","setLastArgs","GoodsMin","searchParams","URLSearchParams","search","lastArgs","word","get","since","fetchAllGoods","_objectSpread","sort","Card","height","target","color","substring","args","goodsReducer","Main"],"sourceRoot":""}