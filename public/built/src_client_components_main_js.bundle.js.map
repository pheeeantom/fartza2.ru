{"version":3,"file":"src_client_components_main_js.bundle.js","mappings":"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","sources":["webpack://fartza.ru/./src/client/components/category/categories.js","webpack://fartza.ru/./src/client/components/category/link.js","webpack://fartza.ru/./src/client/components/goods.js","webpack://fartza.ru/./src/client/components/main.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\n\r\nimport { useFetchAllCategoriesQuery } from \"../../store/services/categories_service\";\r\n\r\nimport Link from \"./link\";\r\n\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { setCategory, setCategoryName } from \"../../store/reducers/categories_slice\";\r\nimport { setLastArgs } from \"../../store/reducers/goods_slice\";\r\n\r\n/*export const categories = {\r\n\t\"Статьи\": [\r\n\t\t\"Новинки\",\"Тренды\",\"Коллаборации\"\r\n\t],\r\n\t\"Одежда\": [\r\n\t\t\"Б/У\",\"Российское\",\"ХендМейд\",\"Обувь\",\"Верх\",\"Низ\", \"Головные уборы\"\r\n\t]\r\n};*/\r\n\r\nfunction CategoriesBar(props) {\r\n\r\n\t//const [isActive, setIsActive] = useState(null);\r\n\r\n\t//ИМЯ РЕДЬЮСЕРА ЗАДАЕТСЯ В STORE.JS В CONFIGUREREDUCER А НЕ В САМОМ РЕДЬЮСЕРЕ В СТРОКЕ\r\n\tconst isActive = useSelector((state) => state.categoriesReducer.activeCategory)\r\n\tconst lastArgs = useSelector((state) => state.goodsReducer.lastArgs)\r\n\tconsole.log(isActive)\r\n    const dispatch = useDispatch()\r\n\r\n\tconst {data, error, isLoading} = useFetchAllCategoriesQuery();\r\n\r\n\t/*useEffect(() => {\r\n\t\tif (data) {\r\n\t\t\tlet searchParams = new URLSearchParams(location.search);\r\n\t\t\tif (searchParams.get('category')) {\r\n\t\t\t\tdispatch(setCategory(Number.parseInt(searchParams.get('category'))));\r\n\t\t\t\tdispatch(setCategoryName(data.categories[0][0].find(cat => cat.id === Number.parseInt(searchParams.get('category'))).type));\r\n\t\t\t}\r\n\t\t}\r\n\t}, [data]);*/\r\n\r\n\tfunction clear() {\r\n\t\tdispatch(setCategory(null));\r\n\t\tdispatch(setCategoryName(null));\r\n\t\tdispatch(setLastArgs({...lastArgs, category: undefined}));\r\n\t\t/*let searchParams = new URLSearchParams(location.search);\r\n\t\tsearchParams.delete('category');\r\n\t\twindow.history.replaceState({}, '', `${location.pathname}?${searchParams}`);*/\r\n\t}\r\n\r\n\tfunction output(num) {\r\n\t\tdispatch(setCategory(num));\r\n\t\tdispatch(setCategoryName(data.categories[0][0].find(cat => cat.id === num).type));\r\n\t\tdispatch(setLastArgs({...lastArgs, category: num, since: 0}));\r\n\t\t/*let searchParams = new URLSearchParams(location.search);\r\n\t\tsearchParams.set('category', num.toString());\r\n\t\twindow.history.replaceState({}, '', `${location.pathname}?${searchParams}`);*/\r\n\t}\r\n\r\n\tlet rows = [];\r\n\tif (data)\r\n\t\tfor (let i = 0; i < data.categories[0][0].length; i++) {\r\n\t\t\trows.push(<Link id={data.categories[0][0][i].id} isActive={isActive === data.categories[0][0][i].id} name={data.categories[0][0][i].type} func={output}/>);\r\n\t\t}\r\n\t\r\n\r\n\treturn (\r\n\t\t/*<div className=\"xs:w-full sm:w-full md:w-1/3 lg:w-1/4 mt-3\">\r\n\t\t\t<div className=\"flex p-3 bg-light\">\r\n\t\t\t\t<aside id=\"categories\">\r\n\t\t\t\t\t<div className=\"dropdown\">\r\n\t\t\t\t\t\t{rows}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</aside>\r\n\t\t\t</div>\r\n\t\t</div>*/\r\n\t\t<span className=\"text-lg\">\r\n\t\t\t{rows}\r\n\t\t\t<div>-----</div>\r\n\t\t\t<button onClick={clear}>Очистить</button>\r\n\t\t</span>\r\n\t);\r\n}\r\n\r\nexport default CategoriesBar;","import React from \"react\";\r\n\r\nfunction Link(props) {\r\n\r\n\tfunction handleClick() {\r\n\t\tprops.func(props.id);\r\n\t}\r\n\r\n    let classLink = \"category-link\";\r\n    if (props.isActive) {\r\n        classLink += \" active\";\r\n    }\r\n    return ( <div><span className={classLink} href=\"#\" onClick={handleClick}>{props.name}</span></div> );\r\n}\r\n\r\nexport default Link;","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { goodsAPI, useFetchGoodsByIdQuery } from \"../store/services/goods_service\";\r\nimport { Carousel, Card } from \"flowbite-react\";\r\nimport { YMaps, Map, Placemark } from \"@pbe/react-yandex-maps\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { useAddToFavoritesMutation, useRemoveFromFavoritesMutation, useIsFavoriteQuery } from \"../store/services/users_service\";\r\n\r\nfunction ProductWrapper(props) {\r\n\t/*constructor(props) {\r\n\t\tsuper(props);\r\n\t\t//this.state = { goods: 0 };\r\n\t\tthis.getGoods = this.getGoods.bind(this);\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n        console.log(1000);\r\n        this.getGoods();\r\n    }\r\n\r\n\tgetGoods() {\r\n\t\t/*const data = new FormData();\r\n\t\tdata.append('command', 'getGoods');\r\n\t\tdata.append('since', 0);*/\r\n\t\t//let searchParams = new URLSearchParams(location.search);\r\n\t\t/*fetch('/api', {\r\n\t\t\tmethod: 'POST',\r\n\t\t    headers: {\r\n\t\t      'Accept': 'application/json',\r\n\t\t      'Content-Type': 'application/json'\r\n\t\t    },\r\n\t\t    body: JSON.stringify({ command: 'getGoodsById', id: window.location.pathname.split('/').pop() || window.location.pathname.split('/').slice(0, -1).pop() })\r\n\t\t}).then(response => {\r\n\t\t\tresponse.json().then(body => {\r\n\t\t\t\tthis.setState({ goods: body.goods[0] });\r\n\t\t\t\t//console.log(this.state.goods);\r\n\t\t\t});\r\n\t\t});*/\r\n\t\t//id: window.location.href.match(\"goods/(.+)#?\")[1]\r\n\t\t//console.log(10);\r\n\t\t/*this.props.fetchGoodsById(window.location.pathname.split('/').pop() || window.location.pathname.split('/').slice(0, -1).pop());\r\n\t}*/\r\n\r\n\tconst [coords, setCoords] = useState();\r\n\r\n\tuseEffect(() => {\r\n\t\tgetLocation();\r\n\t}, []);\r\n\r\n\tfunction getLocation() {\r\n\t\tif (navigator.geolocation) {\r\n\t\t\tnavigator.geolocation.getCurrentPosition(showPosition);\r\n\t\t} else { \r\n\t\t\talert(\"Разрешите геолокацию чтобы видеть ближайшие товары...\");\r\n\t\t}\r\n\t}\r\n\t\t\r\n\tfunction showPosition(position) {\r\n\t\tsetCoords({lat: position.coords.latitude, lon: position.coords.longitude});\r\n\t}\r\n\r\n\tconst { data, isLoading, error } = useFetchGoodsByIdQuery({id: window.location.pathname.split('/').pop() || window.location.pathname.split('/').slice(0, -1).pop(), args: coords});\r\n\r\n\t/*render() {\r\n\t\tconst id = window.location.pathname.split('/').pop() || window.location.pathname.split('/').slice(0, -1).pop();\r\n\t\tlet goods = this.props.fetchGoodsByIdState(id);\r\n\t\tlet rows = null;\r\n\t\t//console.log(goods);\r\n\t\tif (!goods.isLoading &&\r\n\t\t\t!goods.isUninitialized) {\r\n\t\t\tif (!goods.isError) {\r\n\t\t\t\tgoods = goods.data.goods[0][0];\r\n\t\t\t\tconsole.log(goods);\r\n\t\t\t\t//console.log(goods);\r\n\t\t\t\trows = (<Product id={goods.id} name={goods.name} img={goods.photos} price={goods.price}\r\n\t\t\t\t\tcreatedAt={goods.created_at} desc={goods.description} views={goods.views} />);\r\n\t\t\t} else {\r\n\t\t\t\trows = goods.error.data.error;\r\n\t\t\t}\r\n\t\t}\r\n\t\telse {\r\n\t\t\trows = 'Подождите, идет загрузка...';\r\n\t\t}*/\r\n\t\treturn (\r\n\t\t\t<div class=\"mb-3 mt-3\">\r\n\t\t\t\t<main>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tisLoading ? \"Подождите, идет загрузка...\" : error ? error.data.error : \r\n\t\t\t\t\t\t\t<Product id={data.goods[0][0].id} name={data.goods[0][0].name} img={data.goods[0][0].photos} price={data.goods[0][0].price}\r\n\t\t\t\t\t\t\t\tcreatedAt={data.goods[0][0].created_at} desc={data.goods[0][0].description} views={data.goods[0][0].views}\r\n\t\t\t\t\t\t\t\tnickname={data.goods[0][0].user?.nickname} rating={data.goods[0][0].user?.rating} distance={data.goods[0][0].distance}\r\n\t\t\t\t\t\t\t\tlat={data.goods[0][0].latitude} lon={data.goods[0][0].longitude} login={data.login} />\r\n\t\t\t\t\t}\r\n\t\t\t\t</main>\r\n\t\t\t</div>\r\n\t\t);\r\n\t//}\r\n}\r\n\r\nfunction Product (props) {\r\n\r\n\tconst { data: favs, isLoading: loadingFavs, error: errorFavs } = useIsFavoriteQuery(props.id)\r\n\r\n    const [addToFavorites, result] = useAddToFavoritesMutation()\r\n    const [removeFromFavorites, result2] = useRemoveFromFavoritesMutation()\r\n\r\n\t//console.log(this.props.id);\r\n\tlet date = new Date(props.createdAt);\r\n\tlet dateStr = date.toLocaleString('ru', {\r\n\t\tyear: 'numeric',\r\n\t\tmonth: 'long',\r\n\t\tday: 'numeric',\r\n\t\thour: 'numeric',\r\n\t\tminute: 'numeric'\r\n\t\t});\r\n\t/*let butImg = [];\r\n\tfor (let i = 0; i < this.props.img.length; i++) {\r\n\t\tif (i == 0)\r\n\t\t\tbutImg.push(<button type=\"button\" data-bs-target={\"#carouselGoodsIndicators\" + this.props.id} data-bs-slide-to={i} className=\"active\" aria-current=\"true\" aria-label={\"Slide \" + i}></button>);\r\n\t\telse\r\n\t\t\tbutImg.push(<button type=\"button\" data-bs-target={\"#carouselGoodsIndicators\" + this.props.id} data-bs-slide-to={i} aria-label={\"Slide \" + i}></button>);\r\n\t}\r\n\tlet img = [];\r\n\tfor (let i = 0; i < this.props.img.length; i++) {\r\n\t\tif (i == 0)\r\n\t\t\timg.push(<div className=\"carousel-item active\"><img className=\"d-block w-100\" src={\"/goods_photos/\" + this.props.img[i]} alt={\"Slide \" + i}/></div>);\r\n\t\telse\r\n\t\t\timg.push(<div className=\"carousel-item\"><img className=\"d-block w-100\" src={\"/goods_photos/\" + this.props.img[i]} alt={\"Slide \" + i}/></div>);\r\n\t}*/\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<div className=\"w-4/5 md:3/4 lg:w-1/3 mx-auto mt-10\">\r\n\t\t\t\t<Card>\r\n\t\t\t\t\t<div className=\"h-72 w-1/2 mx-auto\">\r\n\t\t\t\t\t\t<Carousel slide={false} leftControl={<></>} rightControl={<></>}>\r\n\t\t\t\t\t\t\t{props.img.map(img => <img src={\"/goods_photos/\" + img} alt=\"slide\" />)}\r\n\t\t\t\t\t\t</Carousel>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"card-one-goods pt-5\">\r\n\t\t\t\t\t\t<h5 className=\"text-3xl\">{props.name}</h5>\r\n\t\t\t\t\t\t<p>{props.desc}</p>\r\n\t\t\t\t\t\t<p>{props.price + \"₽\"}</p>\r\n\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t<a href={props.nickname ? \"/user/\" + props.nickname : undefined}>{props.nickname ?? \"аноним\"}</a>\r\n\t\t\t\t\t\t\t<span className='inline-block px-5 float-right text-lg'>{props.rating ?? \"-\"}<img alt=\"star\" src=\"/service_photos/star.png\" width=\"20\" className='inline'/></span>\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t{props.distance && <p><small className=\"text-muted\">{\"Расстояние: \" + (props.distance / 1000).toFixed(1) + \"км\"}</small></p>}\r\n\t\t\t\t\t\t<p><small className=\"text-muted\">{dateStr}</small></p>\r\n\t\t\t\t\t\t<p><small className=\"text-muted\">Просмотры: {props.views}</small></p>\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tprops.lat && props.lon ?\r\n\t\t\t\t\t\t\t\t<YMaps>\r\n\t\t\t\t\t\t\t\t\t<Map defaultState={{ center: [props.lat, props.lon], zoom: 9}}>\r\n\t\t\t\t\t\t\t\t\t\t<Placemark geometry={[props.lat, props.lon]} />\r\n\t\t\t\t\t\t\t\t\t</Map>\r\n\t\t\t\t\t\t\t\t</YMaps>\r\n\t\t\t\t\t\t\t: null\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t{props.login ? loadingFavs ?\r\n\t\t\t\t\t\t\t'Подождите, идет загрузка...' :\r\n\t\t\t\t\t\terrorFavs ?\r\n\t\t\t\t\t\t\terrorFavs.data.error : favs.isFavorite && !errorFavs ? <button onClick={() => removeFromFavorites(props.id)}\r\n\t\t\t\t\t\t\t\tclassName=\"mt-8 px-4 py-1.5 border border-neutral-400 bg-neutral-50 hover:text-white hover:bg-neutral-600\">Убрать из избранного</button>\r\n\t\t\t\t\t\t\t: <button onClick={() => addToFavorites(props.id)}\r\n\t\t\t\t\t\t\t\tclassName=\"mt-8 px-4 py-1.5 border border-neutral-400 bg-neutral-50 hover:text-white hover:bg-neutral-600\">Добавить в избранное</button>\r\n\t\t\t\t\t\t\t: null}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Card>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n\r\n\t/*<div id={\"carouselGoodsIndicators\" + this.props.id} data-bs-interval=\"false\" className=\"carousel slide col-xs-12 col-sm-12 col-md-6 col-lg-6\" data-bs-ride=\"carousel\" style={{float: 'left'}}>\r\n\t\t<div className=\"carousel-indicators\">\r\n\t\t{butImg}\r\n\t\t</div>\r\n\t\t<div className=\"carousel-inner\">\r\n\t\t{img}\r\n\t\t</div>\r\n\t\t<button className=\"carousel-control-prev\" type=\"button\" data-bs-target={\"#carouselGoodsIndicators\" + this.props.id} data-bs-slide=\"prev\">\r\n\t\t<span className=\"carousel-control-prev-icon\" aria-hidden=\"true\"></span>\r\n\t\t<span className=\"visually-hidden\">Previous</span>\r\n\t\t</button>\r\n\t\t<button className=\"carousel-control-next\" type=\"button\" data-bs-target={\"#carouselGoodsIndicators\" + this.props.id} data-bs-slide=\"next\">\r\n\t\t<span className=\"carousel-control-next-icon\" aria-hidden=\"true\"></span>\r\n\t\t<span className=\"visually-hidden\">Next</span>\r\n\t\t</button>\r\n\t</div>*/\r\n}\r\n\r\n/*const mapStateToProps = (state) => {\r\n    return {\r\n\t\tfetchGoodsByIdState: (id) => goodsAPI.endpoints.fetchGoodsById.select(id)(state)\r\n    };\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    fetchGoodsById: goodsAPI.endpoints.fetchGoodsById.initiate//(args) => dispatch(goodsAPI.endpoints.fetchAllGoods.initiate(args)) //(args) => dispatch(getGoodsFromAPI(args))\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ProductWrapper);*/\r\n\r\nexport default ProductWrapper;\r\n\r\n/*class SearchGoods extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t}\r\n\r\n\tgoToIndex(event) {\r\n\t\twindow.open('/?search=true&query=' + document.getElementById(\"search\").value);\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div style={{textAlign: 'center', marginBottom: '25px'}}>\r\n\t\t\t\t<input type=\"text\" class=\"form-control\" id=\"search\" style={{display: 'inline', width: '60vw', marginRight: '10px'}}/>\r\n\t\t\t\t<button type=\"button\" class=\"btn btn-primary\" onClick={this.goToIndex} style={{display: 'inline'}}>Найти!</button>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}*/\r\n\r\n/*ReactDOM.render(\r\n  <ProductWrapper />,\r\n  document.getElementById('goods-min')\r\n);\r\n\r\nReactDOM.render(\r\n  <SearchGoods />,\r\n  document.getElementById('search-wrapper')\r\n);*/","import React from \"react\";\r\n\r\nimport GoodsMin from './goods_min';\r\nimport CategoriesBar from './category/categories';\r\nimport ProductWrapper from'./goods';\r\nimport { useSelector } from \"react-redux\";\r\n\r\nexport default function Main(props) {\r\n    const activeCategoryName = useSelector((state) => state.categoriesReducer.activeCategoryName);\r\n    //console.log(this.props.goods);\r\n    if (props.goods || window.location.pathname === \"/\") {\r\n        return (\r\n            <div className=\"px-16 md:px-12\">\r\n                <div className=\"w-full sm:w-full md:w-full lg:w-1/5 inline-block text-center sm:text-center md:text-center lg:text-left\">\r\n                    <CategoriesBar />\r\n                </div>\r\n                <div className=\"w-full sm:w-full md:w-full lg:w-4/5 inline-block float-right\">\r\n                    <h3 className=\"text-3xl mb-4\">{activeCategoryName ?? \"Все категории\"}</h3>\r\n                    <GoodsMin pageSize={4} />\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n    else {\r\n        return (\r\n            <ProductWrapper />\r\n        );\r\n    }\r\n}"],"names":["React","useEffect","useState","useFetchAllCategoriesQuery","Link","useSelector","useDispatch","setCategory","setCategoryName","setLastArgs","CategoriesBar","props","isActive","state","categoriesReducer","activeCategory","lastArgs","goodsReducer","console","log","dispatch","_useFetchAllCategorie","data","error","isLoading","clear","_objectSpread","category","undefined","output","num","categories","find","cat","id","type","since","rows","i","length","push","createElement","name","func","className","onClick","handleClick","classLink","href","connect","goodsAPI","useFetchGoodsByIdQuery","Carousel","Card","YMaps","Map","Placemark","useAddToFavoritesMutation","useRemoveFromFavoritesMutation","useIsFavoriteQuery","ProductWrapper","_data$goods$0$0$user","_data$goods$0$0$user2","_useState","_useState2","_slicedToArray","coords","setCoords","getLocation","navigator","geolocation","getCurrentPosition","showPosition","alert","position","lat","latitude","lon","longitude","_useFetchGoodsByIdQue","window","location","pathname","split","pop","slice","args","Product","goods","img","photos","price","createdAt","created_at","desc","description","views","nickname","user","rating","distance","login","_props$nickname","_props$rating","_useIsFavoriteQuery","favs","loadingFavs","errorFavs","_useAddToFavoritesMut","_useAddToFavoritesMut2","addToFavorites","result","_useRemoveFromFavorit","_useRemoveFromFavorit2","removeFromFavorites","result2","date","Date","dateStr","toLocaleString","year","month","day","hour","minute","slide","leftControl","Fragment","rightControl","map","src","alt","width","toFixed","defaultState","center","zoom","geometry","isFavorite","GoodsMin","Main","activeCategoryName","pageSize"],"sourceRoot":""}